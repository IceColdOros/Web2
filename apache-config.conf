<VirtualHost *:80>
    DocumentRoot /var/www/html
    ServerName localhost # Or your actual server name if known

    <Directory /var/www/html>
        # Removed 'Indexes' - Stops directory listings
        Options FollowSymLinks
        # Allow .htaccess files for directory-specific overrides
        AllowOverride All
        # Standard access control
        Require all granted

        # Set default index file(s) for directory requests (like /)
        DirectoryIndex index.php index.html

        # Use FallbackResource for clean URLs - sends requests for non-existent
        # files/directories to index.php if DirectoryIndex doesn't match.
        # This should handle URLs like /about or /products/123
        FallbackResource /index.php

        # If you needed mod_rewrite for *other* rules in .htaccess,
        # you would enable it here:
        # RewriteEngine On

    </Directory>

    # Optional: Configure logging
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

</VirtualHost>
