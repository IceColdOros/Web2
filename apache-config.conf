# This file should be copied to /etc/apache2/sites-available/000-default.conf
# inside your Docker container.

<VirtualHost *:80>
    ServerAdmin webmaster@localhost # Good practice to include
    DocumentRoot /var/www/html
    ServerName localhost # Or your actual server name if known

    <Directory /var/www/html>
        # Removed 'Indexes' - This stops directory listings.
        # Keep 'FollowSymLinks' if your application uses symbolic links.
        Options FollowSymLinks

        # Allow .htaccess files to override configurations within subdirectories.
        AllowOverride All

        # Allow access to the directory for all requests.
        Require all granted

        # Set the default index file(s) for directory requests (like the root '/').
        # Apache will look for these files in order.
        # We prioritize Pages/index.php as requested.
        DirectoryIndex Pages/index.php index.html index.php

        # Use FallbackResource as a front controller for requests that don't
        # map to existing files or directories *after* DirectoryIndex is checked.
        # This will send paths like /about or /products/123 to the root index.php
        # if they don't exist as actual files/directories.
        # This assumes your root index.php handles the routing for other paths.
        FallbackResource /index.php

        # Enable RewriteEngine if you need RewriteRules in your .htaccess file
        # for things other than the front controller (FallbackResource handles that).
        # RewriteEngine On

    </Directory>

    # Optional: Configure logging for this virtual host
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

</VirtualHost>
